# 微信群特别关注

## 背景
QQ群可以设置**特别关注**的群友，这样屏蔽群之后，仍然可以收到特别关注的群友的消息。然而，微信不具有这个功能，要么所有群友的消息都会通知提醒你，要么“消息免打扰”后任何人的消息都不会通知。

该模块旨在实现一个微信的类似功能。

## 模块使用方法
整个模块仅依赖于一个配置文件，图形界面提供了简单的编辑功能。只要按照一定规则编辑即可指定特别关注的好友。

配置用纯文本来描述，该文本被分成好几*块*，块与块之间用若干空行隔开（必须是真正的空行，该行不能有其他空白字符）。比如
```
Group A
Jack
Alice
Bob
张三

群B
张三
李四


高等数学交流群
Jack
张三
```
如上，即有三块。每块用来描述一个规则。对于每一块，第一行是群名，表示这个群里，对于大多数群友，都不希望收到他们的消息。接下来每一行是群友昵称（首选自己设置的备注，次选他的群昵称，最后才是他的微信昵称），表示希望接受这些群友的消息通知。

如下所示，可以在配置的最开头添加一个块，表示对于之后出现的所有群，都希望特别关注这些人。
```
$$$
张三

Group A
Jack
Alice
Bob

群B
李四

高等数学交流群
Jack
```
这个最开头的块必须用一行带有3个美元符号开头。该配置与上一个配置的效果是一样的。

## 注意事项
该模块的原理是hook了android.app.NotificationManager类的NotifyAsUser方法，然后检查通知的标题和内容，提取出其中的一些信息来做为判断依据。因此，一些比较极端的情况可能导致失效，比如一个人的备注里带有英文冒号，或者备注里带有类似“[3条]”的字样。

仅在安卓7.1.2上测试过。
